<div class="card" *ngIf="user">
    <div class="card-header">
      {{pageTitle}}
    </div>
    <div class="card-body">
      <form novalidate (ngSubmit)="saveUser()" [formGroup]="userEditForm">
        <fieldset>
          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="firstname">First Name</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.firstname }" 
                     class="form-control" 
                     id="firstname" 
                     type="text" 
                     placeholder="First Name" 
                     formControlName="firstname" 
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.firstname">
                {{displayMessage.firstname}}
              </span>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="lastname">Last Name</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.lastname }" 
                     class="form-control" 
                     id="lastname" 
                     type="text" 
                     placeholder="Last Name" 
                     formControlName="lastname" 
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.lastname">
                {{displayMessage.lastname}}
              </span>
            </div>
          </div>
  
          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="email">Email</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.email}" 
                     class="form-control"
                     id="email"
                     type="text"
                     placeholder="Email"
                     formControlName="email"
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.email">
                {{displayMessage.email}}
              </span>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="username">Username</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.username}" 
                     class="form-control"
                     id="username"
                     type="text"
                     placeholder="Username"
                     formControlName="username"
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.username">
                {{displayMessage.username}}
              </span>
            </div>
          </div>
  
          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="nursing_home">Nursing home</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.nursing_home}" 
                     class="form-control"
                     id="nursing_home"
                     type="text"
                     placeholder="Nursing Home"
                     formControlName="nursing_home"
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.nursing_home">
                {{displayMessage.nursing_home}}
              </span>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="registered_on">Registered On</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.registered_on}" 
                     class="form-control"
                     id="registered_on"
                     type="text"
                     placeholder="Registered On"
                     formControlName="registered_on"
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.registered_on">
                {{displayMessage.registered_on}}
              </span>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label" for="last_login">Last Login</label>
  
            <div class="col-md-9">
              <input [ngClass]="{'is-invalid': displayMessage.last_login}" 
                     class="form-control"
                     id="last_login"
                     type="text"
                     placeholder="Registered On"
                     formControlName="last_login"
                     (blur)="blur()" />
              <span class="invalid-feedback" *ngIf="displayMessage.last_login">
                {{displayMessage.last_login}}
              </span>
            </div>
          </div>
  
          <div class="form-group">
            <div class="col-md-10 col-md-offset-2">
              <span>
                <button class="btn btn-primary" type="submit" style="width:80px;margin-right:10px" [disabled]="!userEditForm.valid || !userEditForm.dirty">
                  Save
                </button>
              </span>
              <span>
                <button class="btn btn-light" type="button" style="width:80px;margin-right:10px" (click)="cancelEdit()">
                  Cancel
                </button>
              </span>
            </div>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
  <div *ngIf="errorMessage$ | async as errorMessage" class="alert alert-danger">
    Error: {{ errorMessage }}
  </div>